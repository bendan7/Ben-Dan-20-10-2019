(window.webpackJsonpherolo=window.webpackJsonpherolo||[]).push([[0],{26:function(e,t,a){},31:function(e,t,a){e.exports=a(49)},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),o=a.n(c),s=(a(36),a(4)),i=a(5),l=a(6),m=a(7),u=a(8),d=(a(37),a(38),a(30)),f=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this))).handleChange=function(e){a.setState({selectedOption:e},(function(){return console.log("Option selected:",a.state.selectedOption)})),a.props.updateCityName(e.label),a.props.getCurrentConditionsFromAPI(e.key),a.props.getForcastFromAPI(e.key)},a.requestOptions=function(e,t){var n=t.action;if("input-blur"!=n&&"menu-close"!=n){var r="https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=3nLnVGu6bRKoXuPMecVRozYXub2GDzvF&q="+e,c=a.getSuggestionsFromAPI(r);a.setState({options:c})}},a.state={selectedOption:null,options:[]},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"getSuggestionsFromAPI",value:function(e){var t=this,a=[];console.log("new call"),fetch(e).then((function(e){return e.json()})).then((function(e){e.forEach((function(e){a.push({value:e.LocalizedName+", "+e.Country.ID,label:e.LocalizedName+", "+e.Country.ID,key:e.Key})})),t.setState({options:a})}),(function(e){console.log("ERROR: opsss something happen with the autocomplete request"),console.log(e)}))}},{key:"render",value:function(){var e=this.state.selectedOption;return r.a.createElement("div",{style:{maxWidth:"700px",width:"100%"}},r.a.createElement(d.a,{value:e,onChange:this.handleChange,onInputChange:this.requestOptions,options:this.state.options,placeholder:"Search"}))}}]),t}(n.Component);a(26);var h=function(e){return r.a.createElement("div",{className:"card mx-0 mx-md-3"},r.a.createElement("div",{className:"card-body d-flex flex-sm-column justify-content-between align-content-center flex-wrap m-0 p-0 "},r.a.createElement("div",{className:"d-flex-col "},r.a.createElement("div",{className:"d-flex justify-content-center m-0 p-0"},r.a.createElement("img",{src:"/AccuWeatherIcons/"+e.weatherIconId+".png",alt:"weatherIcon"})),r.a.createElement("p",{className:"d-flex justify-content-center m-0 p-0"},e.temp+"\xb0c")),r.a.createElement("div",null,r.a.createElement("p",{className:"d-flex justify-content-center m-0 p-0"},e.day),r.a.createElement("p",{className:"d-flex justify-content-center m-0 p-0"},e.date))))},p=a(19),v=a(20),y={currentCityName:"",Forecasts:[],CurrentConditions:{},isFav:0},E=!0,C=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).updateCurrCityName=function(t){e.setState({currentCityName:t})},e.getForcastFromAPI=function(t){fetch("https://dataservice.accuweather.com/forecasts/v1/daily/5day/"+t+"?apikey=3nLnVGu6bRKoXuPMecVRozYXub2GDzvF&metric=true").then((function(e){return e.json()})).then((function(t){e.setState({Forecasts:t.DailyForecasts})}),(function(e){console.log("ERROR: opsss something happen with the getForcastFromAPI request")}))},e.getCurrentConditionsFromAPI=function(t){fetch("https://dataservice.accuweather.com/currentconditions/v1/"+t+"?apikey=3nLnVGu6bRKoXuPMecVRozYXub2GDzvF").then((function(e){return e.json()})).then((function(t){e.setState({CurrentConditions:t[0]})}),(function(e){console.log("ERROR: opsss something happen with the getForcastFromAPI request")}))},e.addToFav=function(){var t=e.props.addToFav({name:e.state.currentCityName,temp:e.state.CurrentConditions.Temperature.Metric.Value,text:e.state.CurrentConditions.WeatherText,weatherIconId:e.state.CurrentConditions.WeatherIcon});e.setState({isFav:t})},e.remFromFav=function(){e.props.remFromFav({name:e.state.currentCityName})&&e.setState({isFav:0})},e.addOrRemovBut=function(){return 0==e.props.isInFav({name:e.state.currentCityName})?r.a.createElement("button",{className:"btn btn-primary btn-sm  ",onClick:e.addToFav},"Add to Favorites",r.a.createElement("span",{className:"icon"},r.a.createElement(p.a,{icon:v.a,size:"2x",color:"red"}))):r.a.createElement("button",{className:"btn btn-primary btn-sm  ",onClick:e.remFromFav},"Remove",r.a.createElement("span",{className:"icon"},r.a.createElement(p.a,{icon:v.a,size:"2x",color:"red"})))},e.state=y,e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillUnmount",value:function(){y=this.state}},{key:"enableAddToFavBut",value:function(){this.addToFavBut=r.a.createElement("button",{className:"btn btn-primary btn-sm ",onClick:this.addToFav},"Add to Favorites!",r.a.createElement("span",{className:"icon"},r.a.createElement(p.a,{icon:v.a,size:"2x",color:"red"})))}},{key:"render",value:function(){E&&(E=!1,this.updateCurrCityName("Tel Aviv"),this.getForcastFromAPI("215854"),this.getCurrentConditionsFromAPI("215854"));var e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],t="",a="";return"undefined"!==typeof this.state.CurrentConditions.Temperature&&(t=this.state.CurrentConditions.Temperature.Metric.Value+"\xb0c",a=r.a.createElement("img",{className:"WeatherIcon",src:"/AccuWeatherIcons/"+this.state.CurrentConditions.WeatherIcon+".png",alt:"weatherIcon"})),r.a.createElement("div",{className:"d-flex-col"},r.a.createElement("div",{className:"d-flex-col w-100 "},r.a.createElement("div",{className:" d-flex justify-content-center mx-sm-5 mt-sm-5 mx-2 mt-2 "},r.a.createElement(f,{updateCityName:this.updateCurrCityName,getForcastFromAPI:this.getForcastFromAPI,getCurrentConditionsFromAPI:this.getCurrentConditionsFromAPI})),r.a.createElement("div",{className:"d-flex justify-content-center px-2 px-sm-5 pt-2 pt-sm-5"},r.a.createElement("div",{className:"d-flex flex-sm-row flex-column justify-content-between align-items-center",style:{width:"100%",maxWidth:"700px"}},r.a.createElement("div",{className:"currentCity d-flex"},r.a.createElement("div",null,a),r.a.createElement("div",null,r.a.createElement("h5",null,this.state.currentCityName),r.a.createElement("h5",null,t))),r.a.createElement("div",{className:"d-flex align-self-sm-start align-self-end "},this.addOrRemovBut()))),r.a.createElement("div",{className:"d-flex justify-content-center pb-2"},r.a.createElement("h1",null,this.state.CurrentConditions.WeatherText)),r.a.createElement("div",{className:"d-flex flex-sm-row flex-column justify-content-center mb-2 "},this.state.Forecasts.map((function(t,a){return r.a.createElement(h,{key:a,temp:t.Temperature.Maximum.Value,date:t.Date.slice(5,t.Date.search("T")).replace("-","/"),day:e[new Date(t.Date.slice(0,t.Date.search("T")).replace("-","/")).getDay()],weatherIconId:t.Day.Icon})})))))}}]),t}(n.Component);var F=function(e){return r.a.createElement("div",{className:"card mx-0 mx-md-3"},r.a.createElement("div",{className:"card-body d-flex flex-sm-column justify-content-between align-content-center flex-wrap  "},r.a.createElement("div",{className:"d-flex-col"},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("img",{src:"/AccuWeatherIcons/"+e.weatherIconId+".png",alt:"weatherIcon"})),r.a.createElement("h4",{className:"d-flex justify-content-center"},e.temp+"\xb0c")),r.a.createElement("div",null,r.a.createElement("h4",{className:"d-flex justify-content-center"},e.day),r.a.createElement("h4",{className:"d-flex justify-content-center"},e.name))))},b=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this))).state={data:[]},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({data:this.props.getFavCitys()})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex flex-sm-row flex-column justify-content-center mt-2 mt-sm-5 "},this.state.data.map((function(e,t){return r.a.createElement(F,{key:t,temp:e.temp,name:e.name,day:e.text,weatherIconId:e.weatherIconId})}))))}}]),t}(n.Component),g=a(17),x=a(14),N=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).addToFav=function(t){return e.isInFav(t)?0:(e.state.favoritesCitys.push(t),1)},e.isInFav=function(t){var a;for(a=0;a<e.state.favoritesCitys.length;a++)if(e.state.favoritesCitys[a].name===t.name)return 1;return 0},e.remFromFav=function(t){var a;for(a=0;a<e.state.favoritesCitys.length;a++)if(e.state.favoritesCitys[a].name===t.name)return e.state.favoritesCitys.splice(a,1),1;return 0},e.getFavCitys=function(){return e.state.favoritesCitys},e.state={favoritesCitys:[]},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"nav d-flex justify-content-between p-3 p-sm-5"},r.a.createElement("h2",null,"Herolo Task"),r.a.createElement("div",null,r.a.createElement(g.b,{to:"/"},r.a.createElement("button",{style:{marginRight:"1vw"},type:"button",className:"btn btn-primary"},"Home")),r.a.createElement(g.b,{to:"/favoritesPage"},r.a.createElement("button",{style:{marginLeft:"1vw"},type:"button",className:"btn btn-primary"},"favoritesPage")))),r.a.createElement(x.c,null,r.a.createElement(x.a,{path:"/favoritesPage"},r.a.createElement(b,{getFavCitys:this.getFavCitys})),r.a.createElement(x.a,{path:"/"},r.a.createElement(C,{addToFav:this.addToFav,isInFav:this.isInFav,remFromFav:this.remFromFav}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(46),a(47),a(48);o.a.render(r.a.createElement(g.a,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[31,1,2]]]);
//# sourceMappingURL=main.887356e7.chunk.js.map